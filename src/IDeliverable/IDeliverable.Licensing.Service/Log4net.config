<?xml version="1.0" encoding="utf-8" ?>
<log4net>

    <root>
        <!-- Value of level may be ALL, DEBUG, INFO, WARN, ERROR, FATAL, OFF -->
        <level value="DEBUG" />
        <appender-ref ref="DebuggerAppender" />
        <appender-ref ref="LeAppender" />
    </root>

    <appender name="LeAppender" type="log4net.Appender.LogentriesAppender, LogentriesLog4net">
        <!-- Credentials are read from appSettings. -->
        <immediateFlush value="true" />
        <debug value="true" />
        <useHttpPut value="false" />
        <useSsl value="false" />
        <layout type="log4net.Layout.PatternLayout">
            <!-- The below pattern has been carefully formatted and optimized to work well with the Logentries.com entry parser. For reference see https://logentries.com/doc/search/. -->
            <param name="ConversionPattern" value="%d %logger %level% %m%n%exceptionSessionId='%aspnet-request{ASP.NET_SessionId}'; Username='%aspnet-request{AUTH_USER}'; ClientIpAddress='%aspnet-request{REMOTE_ADDR}'; ClientUserAgent='%aspnet-request{HTTP_USER_AGENT}'; ServerName='%aspnet-request{SERVER_NAME}'; RequestMethod='%aspnet-request{REQUEST_METHOD}'; RequestUrl='%aspnet-request{URL}'; RequestQueryString='%aspnet-request{QUERY_STRING}'; RequestCookies='%aspnet-request{HTTP_COOKIE}'; MachineName='%property{log4net:HostName}';%n" />
        </layout>
    </appender>

    <appender name="DebuggerAppender" type="log4net.Appender.DebugAppender">
        <immediateFlush value="true" />
        <layout type="log4net.Layout.SimpleLayout" />
    </appender>

</log4net>
