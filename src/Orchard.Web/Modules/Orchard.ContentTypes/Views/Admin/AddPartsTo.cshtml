@using Orchard.ContentTypes.Extensions
@model Orchard.ContentTypes.ViewModels.AddPartsViewModel
@{
    Style.Require("ContentTypesAdmin");
    Layout.Title = T("Add Parts To \"{0}\"", Model.Type.DisplayName).ToString();
    Html.AdminBreadcrumbs(new { CurrentContentType = Model.Type.Definition });

    var i = 0;
}
@using (Html.BeginFormAntiForgeryPost()) {
    @Html.ValidationSummary()
    <div class="panel panel-default">
        <div class="panel-heading">
            @T("Choose the Parts to add to this Content Type.")
        </div>
        <div class="panel-body">
            <fieldset>
                @foreach (var partSelection in Model.PartSelections) {
                    var fieldNameStart = "PartSelections[" + i + "].";
                    var fieldName = fieldNameStart + "IsSelected";
                    var fieldId = ViewData.TemplateInfo.GetFullHtmlFieldId(fieldNameStart + "IsSelected");
                    i++;
                    <div class="form-group">
                        <div class="or-checkbox">

                            <input name="@fieldName" type="checkbox" id="@fieldId" value="true" />
                            <label for="@fieldId">
                                @partSelection.PartDisplayName
                            </label>
                            @if (!string.IsNullOrWhiteSpace(partSelection.PartDescription)) {
                                <span class="help-block" for="@fieldId">@partSelection.PartDescription</span>
                            }
                            @Html.Hidden(fieldNameStart + "PartName", partSelection.PartName)
                        </div>
                    </div>
                }
            </fieldset>
        </div>
        <div class="panel-footer">
            <button class="btn btn-primary" type="submit"><i class="fa fa-save"></i> @T("Save")</button>
        </div>
    </div>
}
