@using Orchard.Utility.Extensions;
@using Orchard.Widgets.Models;
@{
    Style.Require("WidgetsAdmin");
    Layout.Title = T("Choose A Widget").ToString();
    IEnumerable<Tuple<string, string>> widgetTypes = Model.WidgetTypes;
}

@if (widgetTypes.Count() > 0) {
<ul id="widgets-available">
    @foreach (var widgetType in widgetTypes.OrderBy(type => (string)type.Item1)) {
        string name = widgetType.Item1;
        string description = widgetType.Item2;
    <li>
        @Display.ActionLink(
            Action: "AddWidget", Controller: "Admin", Area: "Orchard.Widgets",
            RouteValues: new { layerId = Model.CurrentLayer.Id, widgetType = name, zone = Model.Zone, returnUrl = Model.ReturnUrl },
                 Value: new HtmlString("<h2>" + name.CamelFriendly() + "</h2>" + (!string.IsNullOrWhiteSpace(description) ? ("<p>" + description + "</p>") : "")))
    </li>
    }
</ul>
}
else {
<p>@T("There are no widgets available to add.")</p>
}
