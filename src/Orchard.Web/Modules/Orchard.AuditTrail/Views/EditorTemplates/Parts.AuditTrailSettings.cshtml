@model Orchard.AuditTrail.ViewModels.AuditTrailSettingsViewModel
@{
    Style.Include("admin.css");
    Script.Require("ShapesBase");
    Script.Include("~/Themes/TheAdmin/scripts/admin.js").AtFoot();
    Script.Include("audit-trail-admin.js").AtFoot();
}
<div class="audit-trail-site-settings">
    <fieldset>
        <legend>@T("Specify the events to audit")</legend>
            @{
                var i = 0;
            }
            @foreach (var category in Model.Categories) {
                <fieldset>
                    <legend>@category.Name</legend>
                    <input type="hidden" name="AuditTrailSettingsPart.Categories[@i].Category" value="@category.Category" />
                    <table class="items check-all">
                        <thead>
                            <tr>
                                <th class="event-name">@T("Event")</th>
                                <th>@T("Description")</th>
                                <th class="event-enabled">
                                    <label>
                                        <input type="checkbox"/>
                                        @T("Enabled")
                                    </label>
                                </th>
                            </tr>
                        </thead>
                        @{ var j = 0; }
                        @foreach (var evnt in category.Events) {
                            var checkboxId = String.Format("Event{0}{1}", i, j);
                            <tr>
                                <td>
                                    <input type="hidden" name="AuditTrailSettingsPart.Categories[@i].Events[@j].Event" value="@evnt.Event" />
                                    @evnt.Name
                                </td>
                                <td>@evnt.Description</td>
                                <td>
                                    <input type="checkbox" id="@checkboxId" name="AuditTrailSettingsPart.Categories[@i].Events[@j].IsEnabled" value="@Boolean.TrueString" @if(evnt.IsEnabled){<text>checked="checked"</text>} />
                                </td>
                            </tr>
                            j++;
                        }
                    </table>
                </fieldset>
                i++;
            }
    </fieldset>
</div>