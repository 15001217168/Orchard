@using Orchard.DisplayManagement.Shapes
@using Orchard.Layouts.Elements
@using Orchard.Layouts.Helpers
@{
    var element = (Grid)Model.Element;
    var isTemplated = element.IsTemplated;

    var tagBuilder = TagBuilderExtensions.AddCommonElementAttributes(new OrchardTagBuilder("div"), Model);
    tagBuilder.AddCssClass("table");
    tagBuilder.AddCssClass("x-grid");
    tagBuilder.AddCssClass("x-element");
    tagBuilder.AddCssClass("x-container");
    tagBuilder.AddCssClass("x-holder");

    if (isTemplated) {
        tagBuilder.AddCssClass("templated");
    }

    tagBuilder.Attributes["data-element"] = Model.ElementJson;
}
@tagBuilder.StartElement
    @if (!isTemplated) {
        <div class="drag-handle">
            <div class="toolbar grid-toolbar group">
                <div class="pull-left">
                    @if (element.Descriptor.EnableEditorDialog) {
                        <a class="edit icon-cog" href="#" title="@T("Edit grid properties")"></a>
                    }
                    <a class="add-row icon-plus" href="#" title="@T("Add row")"></a>
                    <a class="remove icon-trash" href="#" title="@T("Remove grid")"></a>
                </div>
                <div class="pull-right">
                    <span class="name">@T("Grid")</span>
                </div>
            </div>
        </div>
    }
    @DisplayChildren(Model)
@tagBuilder.EndElement