@using Orchard.ContentManagement;
@using Orchard.Utility.Extensions;
@{
    Script.Require("ShapesBase");
    ContentPart contentPart = Model.ContentPart;
}
@functions {
    object GetRoute(ContentPart part, string action) {
        return new { Action = action, Controller = "Admin", Area = "Contents", id = part.ContentItem.Id, returnUrl = Request.ToUrlString() };
    }
}
@if (contentPart.HasPublished()) {
@Display.DisplayLink(Value: T("View"), ContentItem: Model.ContentPart.ContentItem)
@T(" | ")
if (contentPart.HasDraft()) {
@Display.UnsafeActionLink(Value: T("Publish Draft"), UrlType: "PublishUrl", RouteValues: GetRoute(contentPart, "Publish"))
@T(" | ")
}
@Display.UnsafeActionLink(Value: T("Unpublish"), UrlType: "UnpublishUrl", RouteValues: GetRoute(contentPart, "Unpublish"))
@T(" | ")
}
else {
@Display.UnsafeActionLink(Value: T("Publish"), UrlType: "PublishUrl", RouteValues: GetRoute(contentPart, "Publish"))
@T(" | ")
}