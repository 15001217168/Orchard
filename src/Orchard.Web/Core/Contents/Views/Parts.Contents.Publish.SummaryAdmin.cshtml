@using Orchard.ContentManagement;
@using Orchard.Utility.Extensions;
@{
    Script.Require("ShapesBase");
    ContentPart contentPart = Model.ContentPart;
}
@functions {
    object GetRoute(ContentPart part, string action) {
        return new { Action = action, Controller = "Admin", Area = "Contents", id = part.ContentItem.Id, returnUrl = Request.ToUrlString() };
    }
}
@if (contentPart.HasPublished()) {
@Display.DisplayLink(Value: T("View"), ContentItem: Model.ContentPart.ContentItem)
@T(" | ")
if (contentPart.HasDraft()) {
@Display.Link(Value: T("Publish Draft"), RouteValues: GetRoute(contentPart, "Publish"), Attributes: new { itemprop = "PublishUrl UnsafeUrl" })
@T(" | ")
    }
@Display.Link(Value: T("Unpublish"), RouteValues: GetRoute(contentPart, "Unpublish"), Attributes: new { itemprop = "UnpublishUrl UnsafeUrl" })
@T(" | ")
} else {
@Display.Link(Value: T("Publish"), RouteValues: GetRoute(contentPart, "Publish"), Attributes: new { itemprop = "UnpublishUrl UnsafeUrl" })
@T(" | ")
}